(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,a,s){},62:function(e,a,s){"use strict";s.r(a);var t=s(0),c=s(1),n=s.n(c),i=s(30),r=s.n(i),l=(s(37),s(6)),o=s(2),j=s(5);function d(e){window.localStorage.setItem("token",e)}function m(){return window.localStorage.getItem("token")}function b(){var e=m();if(!e)return!1;var a=e.split(".");return!(a.length<3)&&JSON.parse(atob(a[1]))}function h(e){var a=b();return!!a&&e===a.sub}var u=function(){var e=n.a.useState(!1),a=Object(j.a)(e,2),s=a[0],c=a[1],i=Object(o.g)().pathname,r=function(){var e=b();return!!e&&Math.round(Date.now()/1e3)<e.exp}(),d=Object(o.f)();return n.a.useEffect((function(){c(!1)}),[i]),Object(t.jsx)("nav",{className:"navbar is-light",children:Object(t.jsxs)("div",{className:"container",children:[Object(t.jsxs)("div",{className:"navbar-brand",children:[Object(t.jsx)(l.b,{to:"/",className:"navbar-item",children:"NOT FAKE NEWS"}),Object(t.jsxs)("span",{onClick:function(){c(!s)},className:"navbar-burger ".concat(s?"is-active":""),children:[Object(t.jsx)("span",{}),Object(t.jsx)("span",{}),Object(t.jsx)("span",{})]})]}),Object(t.jsxs)("div",{className:"navbar-menu ".concat(s?"is-active":""),children:[Object(t.jsxs)("div",{className:"navbar-start",children:[Object(t.jsx)(l.b,{to:"/articles/",className:"navbar-item",children:"Latest Articles"}),Object(t.jsx)(l.b,{to:"/about/",className:"navbar-item",children:"About Us"}),Object(t.jsx)(l.b,{to:"/contact/",className:"navbar-item",children:"Contact Us"}),r&&Object(t.jsx)(l.b,{to:"/articles/new",className:"navbar-item is-white"})]}),Object(t.jsx)("div",{className:"navbar-end",children:Object(t.jsx)("div",{className:"navbar-item",children:Object(t.jsx)("div",{className:"buttons",children:r?Object(t.jsx)("button",{className:"button is-light",onClick:function(){window.localStorage.removeItem("token"),d.push("/")},children:"Log Out"}):Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(l.b,{className:"button is-light",to:"/auth/register/",children:"Register"}),Object(t.jsx)(l.b,{className:"button is-light",to:"/auth/login/",children:"Log in"})]})})})})]})]})})},x=s(12),O=s(3),p=s.n(O),f=s(10),v=s(13),N=s.n(v),g="/api";function w(){return{headers:{Authorization:"Bearer ".concat(m())}}}function y(){return N.a.get("".concat(g,"/articles/"))}function k(e){return N.a.get("".concat(g,"/articles/").concat(e,"/"))}function _(e){return N.a.delete("".concat(g,"/articles/").concat(e,"/"),w())}function S(e){return N.a.post("".concat(g,"/comments/"),e,w())}function E(e){return N.a.post("".concat(g,"/auth/register/"),e)}function C(e){return N.a.post("".concat(g,"/auth/login/"),e)}var F=function(e){var a=e.id,s=e.headline,c=e.image,n=e.description,i=e.subheadline,r=e.favorites,o=e.owner;return Object(t.jsxs)("div",{className:"column is-8-desktop is-offset-2",children:[Object(t.jsx)("hr",{}),Object(t.jsxs)("div",{className:"tile is-ancestor",children:[Object(t.jsxs)("div",{className:"tile is-vertical is-8",children:[Object(t.jsxs)("div",{className:"tile",children:[Object(t.jsx)("div",{className:"tile is-parent is-vertical",children:Object(t.jsx)("article",{className:"tile is-child ",children:Object(t.jsx)(l.b,{to:"/articles/".concat(a),children:Object(t.jsx)("h1",{className:"is-uppercase has-text-weight-bold is-size-3 has-text-black",children:s})})})}),Object(t.jsx)("div",{className:"tile is-parent m-1",children:Object(t.jsxs)("article",{className:"tile is-child",children:[Object(t.jsx)("figure",{className:"image is-1by1",children:Object(t.jsx)("img",{src:c})}),Object(t.jsxs)("h2",{className:"mt-3 is-family-code",children:["Posted by: ",o.username," | \ud83d\udc4d ",r.length]})]})})]}),Object(t.jsx)("div",{className:"tile is-parent m-2",children:Object(t.jsxs)("article",{className:"tile is-child",children:[Object(t.jsx)("p",{className:"subtitle is-family-code is-size-6",children:n}),Object(t.jsx)("div",{className:"content"})]})})]}),Object(t.jsx)("div",{className:"tile is-parent is-4 ",children:Object(t.jsxs)("article",{className:"tile is-child m-1",children:[Object(t.jsxs)("div",{className:"content",children:[Object(t.jsx)("blockquote",{className:"has-text-black is-family-code is-size-6",children:i}),Object(t.jsx)("div",{className:"content"})]}),Object(t.jsx)("div",{className:"tile is-child"})]})})]}),Object(t.jsx)("hr",{})]})};var A=function(){var e=n.a.useState(null),a=Object(j.a)(e,2),s=a[0],c=a[1],i=n.a.useState(!1),r=Object(j.a)(i,2),l=r[0],o=r[1];return n.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:a=e.sent,s=a.data,c(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(t.jsxs)("section",{className:"hero is-fullheight-with-navbar has-background-light",children:[Object(t.jsx)("section",{className:"is-large p-5",children:Object(t.jsx)("h1",{className:"title has-text-left m-5 is-size-1 is-family-code",children:"NOT FAKE NEWS"})}),Object(t.jsx)("div",{className:"container",children:s?Object(t.jsx)("div",{className:"columns is-multiline",children:s.map((function(e){return Object(t.jsx)(F,Object(x.a)({},e),e.id)}))}):Object(t.jsx)("h2",{className:"title has-text-centered",children:l?"Error, something went wrong":"...loading"})})]})},L=s(16);var P=function(e){var a=n.a.useState(e),s=Object(j.a)(a,2),t=s[0],c=s[1],i=n.a.useState(e),r=Object(j.a)(i,2),l=r[0],o=r[1];return{formdata:t,errors:l,handleChange:function(e){var a=Object(x.a)(Object(x.a)({},t),{},Object(L.a)({},e.target.name,e.target.value)),s=Object(x.a)(Object(x.a)({},l),{},Object(L.a)({},e.target.name,""));c(a),o(s)},setErrors:o,setFormdata:c}};var z=function(){var e=Object(o.f)(),a=n.a.useState(!1),s=Object(j.a)(a,2),c=s[0],i=s[1],r=P({username:"",first_name:"",last_name:"",email:"",profile_image:"",password:"",password_confirmation:""}),l=r.formdata,m=r.handleChange,b=function(){var a=Object(f.a)(p.a.mark((function a(s){var t;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),a.prev=1,a.next=4,E(l);case 4:t=a.sent,d(t.data.token),e.push("/auth/login"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),i(!0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}(),h=function(){i(!1)};return Object(t.jsx)("section",{className:"section",children:Object(t.jsx)("div",{className:"container",children:Object(t.jsx)("div",{className:"columns",children:Object(t.jsxs)("form",{className:"column is-4 is-offset-4 box",onSubmit:b,children:[Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label is-family-code",children:"Username"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input ".concat(c.username?"is-danger":""),placeholder:"Username...",onChange:m,name:"username",value:l.username,onFocus:h})}),c.username&&Object(t.jsx)("p",{className:"help is-danger",children:c.username})]}),Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label is-family-code",children:"First Name"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input ".concat(c.first_name?"is-danger":""),placeholder:"First Name...",onChange:m,name:"first_name",value:l.first_name,onFocus:h})}),c.first_name&&Object(t.jsx)("p",{className:"help is-danger",children:c.first_name})]}),Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label is-family-code",children:"Last Name"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input ".concat(c.last_name?"is-danger":""),placeholder:"Last Name...",onChange:m,name:"last_name",value:l.last_name,onFocus:h})}),c.last_name&&Object(t.jsx)("p",{className:"help is-danger",children:c.last_name})]}),Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label is-family-code",children:"Email"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input ".concat(c.email?"is-danger":""),placeholder:"Email...",onChange:m,name:"email",value:l.email,onFocus:h})}),c.email&&Object(t.jsx)("p",{className:"help is-danger",children:c.email})]}),Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label is-family-code",children:"Profile Image"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input ".concat(c.profile_image?"is-danger":""),placeholder:"Please add URL...",onChange:m,name:"profile_image",value:l.profile_image,onFocus:h})}),c.profile_image&&Object(t.jsx)("p",{className:"help is-danger",children:c.profile_image})]}),Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label is-family-code",children:"Password"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{type:"password",className:"input ".concat(c.password?"is-danger":""),placeholder:"Password...",onChange:m,name:"password",value:l.password})}),c.password&&Object(t.jsx)("p",{className:"help is-danger",children:c.password})]}),Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label is-family-code",children:"Password Confirmation"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{type:"password",className:"input ".concat(c.password_confirmation?"is-danger":""),placeholder:"Password Confirmation...",onChange:m,name:"password_confirmation",value:l.password_confirmation})}),c.password_confirmation&&Object(t.jsx)("p",{className:"help is-danger",children:c.password_confirmation})]}),Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("button",{type:"submit",className:"button is-fullwidth has-background-light is-family-code",children:"Register"})})]})})})})};var I=function(){var e=Object(o.f)(),a=n.a.useState(!1),s=Object(j.a)(a,2),c=s[0],i=s[1],r=P({email:"",password:""}),l=r.formdata,m=r.handleChange,b=function(){var a=Object(f.a)(p.a.mark((function a(s){var t;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),a.prev=1,a.next=4,C(l);case 4:t=a.sent,d(t.data.token),e.push("/articles/"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),i(!0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}(),h=function(){i(!1)};return Object(t.jsx)("section",{className:"section",children:Object(t.jsx)("div",{className:"container",children:Object(t.jsx)("div",{className:"columns mt-6",children:Object(t.jsxs)("form",{className:"box column is-4 is-offset-4",onSubmit:b,children:[Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label is-family-code",children:"Email"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input ".concat(c?"is-danger":""),placeholder:"Email",onChange:m,name:"email",value:l.email,onFocus:h})})]}),Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label is-family-code",children:"Password"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{type:"password",className:"input ".concat(c?"is-danger":""),placeholder:"Password",onChange:m,name:"password",value:l.password,onFocus:h})}),c&&Object(t.jsx)("p",{className:"help is-danger",children:"Sorry, your email or password are incorrect"})]}),Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("button",{type:"submit",className:"button is-fullwidth has-background-light is-family-code",children:"Log In"})})]})})})})};var T=function(){return Object(t.jsx)("section",{className:"hero is-fullheight-with-navbar is-light",children:Object(t.jsx)("div",{className:"hero-body",children:Object(t.jsx)("div",{className:"container",children:Object(t.jsx)("h1",{className:"title is-1 has-text-centered is-family-code",children:"NOT FAKE NEWS"})})})})};var D=function(){var e=n.a.useState(!1),a=Object(j.a)(e,2),s=(a[0],a[1]),c=n.a.useState(null),i=Object(j.a)(c,2),r=i[0],l=i[1],d=Object(o.h)().id,m=Object(o.f)();n.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(d);case 3:a=e.sent,t=a.data,l(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[d]);var b=P({text:"",article:7}),u=b.formdata,x=b.handleChange,O=b.setFormdata,v=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(d);case 3:m.push("/articles/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(p.a.mark((function e(a){var s,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,S(u);case 4:s=e.sent,t=s.data,O(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}();return console.log(u.text),Object(t.jsx)("section",{className:"section",children:Object(t.jsx)("div",{className:"container",children:r?Object(t.jsxs)("div",{children:[Object(t.jsx)("hr",{}),Object(t.jsxs)("div",{className:"columns",children:[Object(t.jsxs)("div",{className:"column is-4 is-offset-3",children:[Object(t.jsx)("h1",{className:"title has-text-centered is-uppercase",children:r.headline}),Object(t.jsx)("hr",{}),Object(t.jsx)("h2",{className:"is-family-code",children:r.subheadline}),Object(t.jsx)("hr",{}),Object(t.jsx)("figure",{className:"image box",children:Object(t.jsx)("img",{src:r.image,alt:r.headline})}),r.comments.map((function(e){return Object(t.jsxs)("article",{className:"media m-1",children:[Object(t.jsx)("figure",{className:"media-left",children:Object(t.jsx)("p",{className:"image is-64x64",children:Object(t.jsx)("img",{src:e.owner.profile_image})})}),Object(t.jsx)("div",{className:"media-content",children:Object(t.jsx)("div",{className:"content",children:Object(t.jsxs)("p",{children:[Object(t.jsx)("strong",{children:e.owner.username}),Object(t.jsx)("br",{}),e.text,Object(t.jsx)("br",{}),Object(t.jsxs)("small",{children:[Object(t.jsx)("a",{children:"Like"})," \xb7 ",Object(t.jsx)("a",{children:"Reply"})," \xb7 ",e.created_at]})]})})})]},e.id)})),Object(t.jsxs)("form",{onSubmit:N,children:[Object(t.jsxs)("div",{className:"field",children:[Object(t.jsx)("label",{className:"label",children:"Comment"}),Object(t.jsx)("div",{className:"control",children:Object(t.jsx)("input",{className:"input",type:"text",name:"text",onFocus:function(){s(!1)},onChange:x,value:u.text,placeholder:"Leave a comment..."})})]}),Object(t.jsx)("div",{className:"field",children:Object(t.jsx)("button",{type:"submit",className:"button is-fullwidth has-background-light",children:"Submit"})})]})]}),Object(t.jsx)("div",{className:"columns m-2",children:Object(t.jsxs)("div",{className:"column is-6",children:[Object(t.jsx)("p",{className:"is-family-code",children:r.description}),Object(t.jsx)("hr",{}),Object(t.jsx)("footer",{className:"footer",children:Object(t.jsx)("div",{className:"content has-text-centered",children:Object(t.jsxs)("p",{children:[Object(t.jsx)("strong",{children:"NOT FAKE NEWS"})," www.notfakenews.com"]})})}),Object(t.jsx)("div",{children:h(r.owner.id)?Object(t.jsx)("button",{className:"button is-light",onClick:v,children:"Delete"}):""})]})})]})]}):Object(t.jsx)("h2",{className:"title has-text-centered",children:s?"Error, something went wrong":"...loading"})})})};var K=function(){var e=n.a.useState(null),a=Object(j.a)(e,2),s=a[0],c=a[1],i=n.a.useState(!1),r=Object(j.a)(i,2),l=r[0],o=r[1];return n.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:a=e.sent,s=a.data,c(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(t.jsxs)("section",{className:"hero is-fullheight-with-navbar has-background-light",children:[Object(t.jsx)("section",{className:"is-large p-5",children:Object(t.jsx)("h1",{className:"title has-text-left m-5 is-size-1 is-family-code",children:"NOT FAKE NEWS"})}),Object(t.jsx)("div",{className:"container",children:s?Object(t.jsx)("div",{className:"columns is-multiline",children:s.map((function(e){return Object(t.jsx)(ArticleTrendingCard,Object(x.a)({},e),e.id)}))}):Object(t.jsx)("h2",{className:"title has-text-centered",children:l?"Error, something went wrong":"...loading"})})]})};var U=function(){return Object(t.jsxs)(l.a,{children:[Object(t.jsx)(u,{}),Object(t.jsxs)(o.c,{children:[Object(t.jsx)(o.a,{exact:!0,path:"/",component:T}),Object(t.jsx)(o.a,{path:"/articles/trending",component:K}),Object(t.jsx)(o.a,{path:"/articles/:id/",component:D}),Object(t.jsx)(o.a,{path:"/articles/",component:A}),Object(t.jsx)(o.a,{path:"/auth/register/",component:z}),Object(t.jsx)(o.a,{path:"/auth/login/",component:I})]})]})};r.a.render(Object(t.jsx)(U,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.8ed1d6ad.chunk.js.map